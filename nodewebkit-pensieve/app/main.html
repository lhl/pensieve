<!DOCTYPE html>
<html>
<head>
<title>Pensieve</title>

<!-- http://jquery.com -->
<script src="js/jquery-2.1.1.min.js"></script>

<!-- http://craig.is/killing/mice -->
<script src="js/mousetrap.min.js"></script>
<script src="js/mousetrap-global-bind.min.js"></script>

<!-- https://github.com/rogerwang/node-webkit/wiki/Preserve-window-state-between-sessions -->
<script src="js/winstate.js"></script>

<!-- http://editor.froala.com -->
<script src="js/froala/js/froala_editor.min.js"></script>
<script src="js/froala/js/plugins/tables.min.js"></script>
<script src="js/froala/js/plugins/block_styles.min.js"></script>
<script src="js/froala/js/plugins/video.min.js"></script>
<script src="js/froala/js/plugins/media_manager.min.js"></script>
<link type="text/css" rel="stylesheet" href="js/froala/css/font-awesome.min.css">
<link type="text/css" rel="stylesheet" href="js/froala/css/froala_editor.min.css">

<!-- https://github.com/defunkt/jquery-pjax -->
<script src="js/jquery.pjax.js"></script>


<style>
body {
  margin: 0;
  border: 0;
  padding: 0;
}
#content {
  height: 100%;
  min-height: 500px;
  width: 100%;
  background: #333;
  color: #eee;
}
</style>


</head>
<body>

<div id="content">
  <p>This is editable text</p>
</div>
<input id="defocus">
<script>
$(function() {
  $('#content').editable()

  $('#content').click(function() {
    if(! $('#content').editable('selectionInEditor')[0] ) {
      $('#content').editable('focus');
      $("#content").editable('setSelection', $('.froala-element').get(0), 2, null, 0);

    }
  });

  Mousetrap.bind('i', function() {
    console.log('i');
    $('#content').editable('focus')
    return false;
  });

  Mousetrap.bindGlobal('escape', function() {
    console.log('escape');
    $('#defocus').focus();
    $('#defocus').blur();
  });
});
</script>


</body>
</html>
